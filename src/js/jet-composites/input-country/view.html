<!--
  Copyright (c) 2015, 2017, Oracle and/or its affiliates.
  The Universal Permissive License (UPL), Version 1.0
-->
<div :id="[['country-input-container'+ $uniqueId]]">
  <oj-label data-bind="attr: {for: 'country-input'+ $uniqueId }">
    <span data-bind="text: $props.label"></span>
    </span>
  </oj-label>
  <oj-input-text :id="[['country-input'+ $uniqueId]]" value="{{$props.countryName}}"></oj-input-text>
  <img :id="[['countrySelectorOpen'+ $uniqueId]]" :src='[[require.toUrl("input-country/images/icon-world.png")]]' class='iconbtnintext'
    title="Click to open World Map in Popup" data-bind="click: openPopup"
    meta="v1.1" />
</div>
<div id="popupWrapper">
  <oj-popup class="input-country-country-selection-popup" :id="[['countrySelectionPopup'+ $uniqueId ]]" tail="none" position.my.horizontal="center"
    position.my.vertical="bottom" position.at.horizontal="center" position.at.vertical="bottom" position.of="window" position.offset.y="-10"
    modality="modal" data-bind="event:{'ojAnimateStart': startAnimationListener}">
    <div class="input-country-country-selection-popup-body">
      <div class="input-country-country-selection-popup-header">
        <h5>Select a country by clicking on it</h5>
      </div>
      <div class="input-country-country-selection-popup-content">
        <div :id="[['countryInfo'+ $uniqueId ]]"></div>
        <div :id="[['mapContainer'+ $uniqueId ]]"></div>
      </div>
      <div class="input-country-country-selection-popup-footer">
        <oj-button :id="[['btnSave'+ $uniqueId ]]" data-bind="click: save">
          Save
        </oj-button>
        <oj-button :id="[['btnClose'+ $uniqueId ]]" data-bind="click: function()
{
  var popup = document.querySelector('#countrySelectionPopup'+$uniqueId);
  popup.close();
}">
          Cancel
        </oj-button>
      </div>
    </div>
  </oj-popup>
</div>